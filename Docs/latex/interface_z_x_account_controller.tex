\hypertarget{interface_z_x_account_controller}{
\section{ZXAccountController Class Reference}
\label{interface_z_x_account_controller}\index{ZXAccountController@{ZXAccountController}}
}
General controller code for accounts.  


{\tt \#import $<$ZXAccountController.h$>$}

\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
\hypertarget{interface_z_x_account_controller_5fb3f31204f14f03e841ad1c428839ac}{
(void) - \hyperlink{interface_z_x_account_controller_5fb3f31204f14f03e841ad1c428839ac}{recalculateBalance:}}
\label{interface_z_x_account_controller_5fb3f31204f14f03e841ad1c428839ac}

\begin{CompactList}\small\item\em Forward recalculateBalance: message to selected account. \item\end{CompactList}\item 
(void) - \hyperlink{interface_z_x_account_controller_b1403533592d33b6fc3a43c7153c27b4}{prepareContent}{\tt  \mbox{[}implementation\mbox{]}}
\begin{CompactList}\small\item\em Prepares the content of the controller. \item\end{CompactList}\item 
(void) - \hyperlink{interface_z_x_account_controller_275e5ff12dad8038bf3ed96a19aac65e}{setValue:forKey:}{\tt  \mbox{[}implementation\mbox{]}}
\begin{CompactList}\small\item\em Controls special cases of key-value changes. \item\end{CompactList}\item 
(void) - \hyperlink{interface_z_x_account_controller_9bde4a1f4ab0fdc0b18a190f4573977a}{awakeFromNib}{\tt  \mbox{[}implementation\mbox{]}}
\begin{CompactList}\small\item\em Basic initialization. \item\end{CompactList}\item 
(id) - \hyperlink{interface_z_x_account_controller_7c2d8697d2ed15c4fbc55d670564e751}{newObject}{\tt  \mbox{[}implementation\mbox{]}}
\begin{CompactList}\small\item\em Creates a new object. \item\end{CompactList}\item 
(void) - \hyperlink{interface_z_x_account_controller_765323e412d28612c9737af99becf5c8}{validatesNewAccountName:}{\tt  \mbox{[}implementation\mbox{]}}
\begin{CompactList}\small\item\em Sets the name of the account in the notification to avoid conflicts. \item\end{CompactList}\item 
(NSString $\ast$) - \hyperlink{interface_z_x_account_controller_0efcea0525fa3f4d189fd52592fab996}{uniqueNewName:}{\tt  \mbox{[}implementation\mbox{]}}
\begin{CompactList}\small\item\em Generates a non-conflicting name from given name. \item\end{CompactList}\item 
(void) - \hyperlink{interface_z_x_account_controller_489f46d9731a5b0737b028ea9063e202}{updateUsedNames}{\tt  \mbox{[}implementation\mbox{]}}
\begin{CompactList}\small\item\em Updates the dictionary containing the used names. \item\end{CompactList}\end{CompactItemize}
\subsection*{Properties}
\begin{CompactItemize}
\item 
NSMutableDictionary $\ast$ \hyperlink{interface_z_x_account_controller_a7bdd570e90b4302106f265e73721a56}{usedNames}
\begin{CompactList}\small\item\em Dictionary of used names. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
General controller code for accounts. 

Subclass of NSArrayController. Contains all the accounts and ensures no duplicate names. Upon insertion of a new object, name is checked for conflict. Will append a non-conflicting number if problems arise, e.g. \char`\"{}New Account\char`\"{} -$>$ \char`\"{}New Account 1\char`\"{}. 

\subsection{Member Function Documentation}
\hypertarget{interface_z_x_account_controller_9bde4a1f4ab0fdc0b18a190f4573977a}{
\index{ZXAccountController@{ZXAccountController}!awakeFromNib@{awakeFromNib}}
\index{awakeFromNib@{awakeFromNib}!ZXAccountController@{ZXAccountController}}
\subsubsection[{awakeFromNib}]{\setlength{\rightskip}{0pt plus 5cm}- (void) awakeFromNib \hspace{0.3cm}{\tt  \mbox{[}implementation\mbox{]}}}}
\label{interface_z_x_account_controller_9bde4a1f4ab0fdc0b18a190f4573977a}


Basic initialization. 

Registers to recalculate balances of selection when account total changes. \begin{Desc}
\item[See also:]\hyperlink{interface_z_x_account_controller_5fb3f31204f14f03e841ad1c428839ac}{- recalculateBalance:} \end{Desc}
\hypertarget{interface_z_x_account_controller_7c2d8697d2ed15c4fbc55d670564e751}{
\index{ZXAccountController@{ZXAccountController}!newObject@{newObject}}
\index{newObject@{newObject}!ZXAccountController@{ZXAccountController}}
\subsubsection[{newObject}]{\setlength{\rightskip}{0pt plus 5cm}- (id) newObject \hspace{0.3cm}{\tt  \mbox{[}implementation\mbox{]}}}}
\label{interface_z_x_account_controller_7c2d8697d2ed15c4fbc55d670564e751}


Creates a new object. 

Sets up new name to hard-coded \char`\"{}New Account\char`\"{} (to fix) \hypertarget{interface_z_x_account_controller_b1403533592d33b6fc3a43c7153c27b4}{
\index{ZXAccountController@{ZXAccountController}!prepareContent@{prepareContent}}
\index{prepareContent@{prepareContent}!ZXAccountController@{ZXAccountController}}
\subsubsection[{prepareContent}]{\setlength{\rightskip}{0pt plus 5cm}- (void) prepareContent \hspace{0.3cm}{\tt  \mbox{[}implementation\mbox{]}}}}
\label{interface_z_x_account_controller_b1403533592d33b6fc3a43c7153c27b4}


Prepares the content of the controller. 

If there is no accounts, adds one. Registers to validate name change, and sets up used names dictionary. \begin{Desc}
\item[See also:]\hyperlink{interface_z_x_account_controller_489f46d9731a5b0737b028ea9063e202}{- updateUsedNames}, \hyperlink{interface_z_x_account_controller_765323e412d28612c9737af99becf5c8}{- validatesNewAccountName:} \end{Desc}
\hypertarget{interface_z_x_account_controller_275e5ff12dad8038bf3ed96a19aac65e}{
\index{ZXAccountController@{ZXAccountController}!setValue:forKey:@{setValue:forKey:}}
\index{setValue:forKey:@{setValue:forKey:}!ZXAccountController@{ZXAccountController}}
\subsubsection[{setValue:forKey:}]{\setlength{\rightskip}{0pt plus 5cm}- (void) setValue: (id) {\em newValue}\/ forKey: (id) {\em key}\hspace{0.3cm}{\tt  \mbox{[}implementation\mbox{]}}}}
\label{interface_z_x_account_controller_275e5ff12dad8038bf3ed96a19aac65e}


Controls special cases of key-value changes. 

Posts a ZXActiveAccountDidChangeNotification upon selection change. \hypertarget{interface_z_x_account_controller_0efcea0525fa3f4d189fd52592fab996}{
\index{ZXAccountController@{ZXAccountController}!uniqueNewName:@{uniqueNewName:}}
\index{uniqueNewName:@{uniqueNewName:}!ZXAccountController@{ZXAccountController}}
\subsubsection[{uniqueNewName:}]{\setlength{\rightskip}{0pt plus 5cm}- (NSString $\ast$) uniqueNewName: (NSString $\ast$) {\em newDesiredName}\hspace{0.3cm}{\tt  \mbox{[}implementation\mbox{]}}}}
\label{interface_z_x_account_controller_0efcea0525fa3f4d189fd52592fab996}


Generates a non-conflicting name from given name. 

Returns a new name from the given so that no conflict arises inserting a new account with that name. Appends a number after the name if already exists. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em newDesiredName}]String containing the desired name of the account. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Same or modified name depending on if conflict was found. \end{Desc}
\hypertarget{interface_z_x_account_controller_489f46d9731a5b0737b028ea9063e202}{
\index{ZXAccountController@{ZXAccountController}!updateUsedNames@{updateUsedNames}}
\index{updateUsedNames@{updateUsedNames}!ZXAccountController@{ZXAccountController}}
\subsubsection[{updateUsedNames}]{\setlength{\rightskip}{0pt plus 5cm}- (void) updateUsedNames \hspace{0.3cm}{\tt  \mbox{[}implementation\mbox{]}}}}
\label{interface_z_x_account_controller_489f46d9731a5b0737b028ea9063e202}


Updates the dictionary containing the used names. 

Is an expensive method. Uses Core Data fetches to get used names and reconstruct the dictionary from scratch. \hypertarget{interface_z_x_account_controller_765323e412d28612c9737af99becf5c8}{
\index{ZXAccountController@{ZXAccountController}!validatesNewAccountName:@{validatesNewAccountName:}}
\index{validatesNewAccountName:@{validatesNewAccountName:}!ZXAccountController@{ZXAccountController}}
\subsubsection[{validatesNewAccountName:}]{\setlength{\rightskip}{0pt plus 5cm}- (void) validatesNewAccountName: (NSNotification $\ast$) {\em aNotification}\hspace{0.3cm}{\tt  \mbox{[}implementation\mbox{]}}}}
\label{interface_z_x_account_controller_765323e412d28612c9737af99becf5c8}


Sets the name of the account in the notification to avoid conflicts. 

This function changes the name of the account in the notification if there is a duplicate with existing labels. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em aNotification}]NSNotification containing the new account as object. \end{description}
\end{Desc}
\begin{Desc}
\item[See also:]\hyperlink{interface_z_x_account_controller_0efcea0525fa3f4d189fd52592fab996}{- uniqueNewName:} \end{Desc}


\subsection{Property Documentation}
\hypertarget{interface_z_x_account_controller_a7bdd570e90b4302106f265e73721a56}{
\index{ZXAccountController@{ZXAccountController}!usedNames@{usedNames}}
\index{usedNames@{usedNames}!ZXAccountController@{ZXAccountController}}
\subsubsection[{usedNames}]{\setlength{\rightskip}{0pt plus 5cm}- (NSMutableDictionary $\ast$) usedNames\hspace{0.3cm}{\tt  \mbox{[}read, write, retain\mbox{]}}}}
\label{interface_z_x_account_controller_a7bdd570e90b4302106f265e73721a56}


Dictionary of used names. 

Variable used to check quickly for conflicts. As account names are unique, they are stored as dictionary keys, ensuring no duplicates. 

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
/Users/phcor/lib/Strongbox/ZXAccountController.h\item 
/Users/phcor/lib/Strongbox/ZXAccountController.m\end{CompactItemize}
